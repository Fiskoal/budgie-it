(this["webpackJsonpinspecto-gadget"]=this["webpackJsonpinspecto-gadget"]||[]).push([[0],{48:function(e,t,c){},69:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(19),r=c.n(a),i=(c(48),c(11)),d=c(4),o=c(13),l=c(15),j=c(6),b=c(16),h=c.n(b),u={getInspections:function(){return h.a.get("/api/inspections")},getInspection:function(e){return h.a.get("/api/inspections/id/".concat(e))},getPermitByID:function(e){return h.a.get("/api/permits/id/".concat(e))}},O=(c(69),c(0));var m=function(e){var t=Object(s.useState)(e),c=Object(j.a)(t,2),n=c[0],a=c[1];return{value:n,onChange:function(e){a(e.target.value)}}},x=function(e){var t=Object(s.useState)(!1),c=Object(j.a)(t,2),n=(c[0],c[1]),a=m(""),r=m(""),i=Object(s.useState)(null),o=Object(j.a)(i,2),b=(o[0],o[1]),u=Object(d.f)();return Object(O.jsx)("main",{children:Object(O.jsx)("div",{className:"loginFormContainer",children:Object(O.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),console.log(a.value,r.value),b(null),n(!0),h.a.post("/api/users/login",{username:a.value,password:r.value}).then((function(e){var t,c;n(!1),t=e.data.token,c=e.data.user,sessionStorage.setItem("token",t),sessionStorage.setItem("user",JSON.stringify(c)),console.log("=========="),console.log("hit login router!"),console.log("=========="),u.push("/dashboard")})).catch((function(e){n(!1),console.log(e)})),h.a.post("/api/users/sessions").then((function(e){console.log(e),console.log("=========="),console.log("hit sessions router!"),console.log("==========")})).catch((function(e){console.log(e)}))},children:[Object(O.jsx)("div",{id:"loginHeader",className:"form-text",children:"Please enter your account information"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({type:"text"},a),{},{className:"form-control",id:"username","aria-describedby":"usernameEntry"}))]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(O.jsx)("input",Object(l.a)(Object(l.a)({type:"password"},r),{},{className:"form-control",id:"password"}))]}),Object(O.jsx)("div",{className:"btnContainer",children:Object(O.jsx)("button",{type:"submit",className:"btn customBtn",id:"submitBtn",children:"Login"})})]})})})};var p=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)("title",{children:"Log in"})}),Object(O.jsx)("div",{className:"jumbo",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("h2",{className:"jumboHeading",children:"Welcome to the City of Orchard Lake Inspections App"})})}),Object(O.jsx)(x,{})]})},f=c(14),v=c.n(f),g=c(18);c(79);var N=function(){var e=Object(s.useState)("menu "),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(s.useState)("navbar bigNav"),b=Object(j.a)(l,2),h=b[0],u=b[1],m=Object(d.f)(),x=Object(d.g)().pathname,p=Object(s.useState)(""),f=Object(j.a)(p,2),v=f[0],g=f[1],N=Object(s.useState)(""),y=Object(j.a)(N,2),M=y[0],Y=y[1],k=Object(s.useState)(""),S=Object(j.a)(k,2),C=S[0],w=S[1];Object(s.useEffect)((function(){"/dashboard"===x?g("activeDash"):"/past-inspections"===x?Y("activePast"):"/create-account"===x&&w("activeCreate"),!1===I&&E("myTopnav")}));var _=Object(s.useState)(!0),D=Object(j.a)(_,2),I=D[0],B=(D[1],Object(s.useState)("")),F=Object(j.a)(B,2),A=F[0],E=F[1];return Object(O.jsx)("div",{className:"container-fluid headerContainer vw-100",children:Object(O.jsxs)("nav",{className:h,id:A,children:[Object(O.jsx)("h1",{className:"col-lg-4 col-sm-12 p-3 text-center",children:"Inspecto-Gadget"}),Object(O.jsx)("a",{href:"javascript:void(0);",className:"icon",onClick:function(){u("navbar bigNav"===h?"navbar bigNav responsive":"navbar bigNav")},children:Object(O.jsx)("button",{className:c,onClick:function(){"menu "===c?(n("menu opened"),o("opened")):(n("menu "),o(""))},"aria-expanded":i,"aria-label":"Main Menu",children:Object(O.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 100 100",children:[Object(O.jsx)("path",{className:"line line1",d:"M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058"}),Object(O.jsx)("path",{className:"line line2",d:"M 20,50 H 80"}),Object(O.jsx)("path",{className:"line line3",d:"M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942"})]})})}),Object(O.jsx)("button",{className:"btn btn-secondary border border-dark col-lg-2 col-sm-12 navBtn",id:v,onClick:function(){m.push("/dashboard")},children:"Dashboard"}),Object(O.jsx)("button",{className:"btn btn-secondary border border-dark col-lg-2 col-sm-12 navBtn",id:M,onClick:function(){m.push("/past-inspections")},children:"Past Inspections"}),I?Object(O.jsx)("button",{className:"btn btn-secondary border border-dark col-lg-2 col-sm-12 navBtn",id:C,onClick:function(){m.push("/create-account")},children:"Create Account"}):null,Object(O.jsx)("button",{className:"btn btn-secondary border border-dark col-lg-2 col-sm-12 navBtn",id:"logout",children:"Logout"})]})})};var y=function(){var e=Object(d.h)().id;console.log(e);var t=Object(s.useState)([]),c=Object(j.a)(t,2),n=(c[0],c[1]);function a(){return(a=Object(g.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getInspection(e).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)("title",{children:"Details"})}),Object(O.jsx)(N,{})]})};c(80);var M=function(){return Object(O.jsx)("main",{children:Object(O.jsx)("div",{className:"createFormContainer",children:Object(O.jsxs)("form",{className:"createForm",children:[Object(O.jsx)("div",{id:"createAccount",className:"form-text",children:"Create an account"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username","aria-describedby":"usernameEntry"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password"})]}),Object(O.jsxs)("div",{className:"checkboxContainer",children:[Object(O.jsx)("div",{id:"accountTypeHeader",className:"form-text",children:"Account Type"}),Object(O.jsx)("div",{className:"formControlContainer",children:Object(O.jsxs)("select",{className:"form-control customFormControl",id:"accountTypeSelector",children:[Object(O.jsx)("option",{children:"Select one"}),Object(O.jsx)("option",{children:"Admin"}),Object(O.jsx)("option",{children:"Inspector"})]})})]}),Object(O.jsx)("div",{className:"btnContainer",children:Object(O.jsx)("button",{type:"submit",className:"btn customBtn",children:"Submit"})})]})})})};var Y=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)("title",{children:"Create Account"})}),Object(O.jsx)(N,{}),Object(O.jsx)(M,{})]})};var k=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"container-fluid p-3",children:Object(O.jsx)("div",{className:"alert alert-danger d-flex align-items-center mt-4",role:"alert",children:Object(O.jsx)("h3",{children:"Action Required! Inspection Results Missing"})})})})};var S=function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:e.length}),Object(O.jsx)("table",{className:"table table-border table-striped",children:Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:"1"}),Object(O.jsxs)("td",{children:[e.date," |",e.address," |",e.type,"  |",e.permit_id,"  |notes? |",e.admin,"| ",e.date_scheduled," "]}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"btn btn-secondary border border-dark",children:"Results"}),Object(O.jsx)(i.b,{to:"/inspections/"+e.id})]})]})})})]})},C=c(38),w=c(39),_=c(42),D=c(40),I=c(41),B=c(43),F=(c(83),function(e){Object(_.a)(c,e);var t=Object(D.a)(c);function c(){return Object(C.a)(this,c),t.apply(this,arguments)}return Object(w.a)(c,[{key:"render",value:function(){return Object(O.jsx)(I.a,{plugins:[B.a],eventContent:A})}}]),c}(n.a.Component));function A(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("b",{children:e.timeText}),Object(O.jsx)("i",{children:e.event.title})]})}var E=function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:"Date and number of inspections on that day"}),Object(O.jsx)("table",{className:"table table-border table-striped",children:Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:"1"}),Object(O.jsxs)("td",{children:[e.date,"  |",e.address," |",e.type," |",e.permit_id,"| notes?  |",e.admin,"|",e.date_scheduled," "]}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"btn btn-secondary border border-dark",children:"Results"}),Object(O.jsx)(i.b,{to:"/inspections/"+e.id})]})]})})})]})},P=c(5),R=c.n(P);var H=function(){var e=R()().format("dddd, MMMM Do YYYY").toString(),t=Object(s.useState)([]),c=Object(j.a)(t,2),n=c[0],a=c[1],r=[],i=[];function d(){return(d=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getInspections().then((function(e){a(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]),n.forEach((function(e){R()(e.date).isAfter(R()(),"day")?i.push(e):R()(e.date).isSame(R()(),"day")&&r.push(e)})),Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)("title",{children:"Dashboard"})}),Object(O.jsx)(N,{}),Object(O.jsx)(k,{}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-lg-6 col-sm-12",children:[Object(O.jsx)("h2",{className:"text-center mt-4",children:"Today's Inspections"}),r.length?Object(O.jsxs)("div",{className:"border border-3 p-3 bg-dark rounded",children:[Object(O.jsx)("h4",{className:"text-white",children:e}),r.map((function(e){return Object(O.jsx)("div",{className:"card",children:Object(O.jsx)("div",{className:"bg-light",children:Object(O.jsx)(S,{date:R()(e.date).format("dddd, MMMM Do YYYY"),address:e.address,type:e.type,permit_id:e.permit_id,admin:e.admin,date_scheduled:R()(e.date_scheduled).format("MM- D-YY")},e.permit_id)})})}))]}):Object(O.jsx)("h3",{children:" No Result to Display"})]}),Object(O.jsxs)("div",{className:"col-lg-6 col-sm-12",children:[Object(O.jsx)("h2",{className:"text-center mt-4",children:"Calendar"}),Object(O.jsx)("div",{className:"border border-3 p-3 bg-dark rounded",children:Object(O.jsx)("div",{className:"card",children:Object(O.jsx)("div",{className:"card-body bg-light",children:Object(O.jsx)(F,{})})})})]}),Object(O.jsxs)("div",{className:"col-lg-12 col-sm-12",children:[Object(O.jsx)("h2",{className:"text-center mt-4",children:"Upcoming Inspections"}),i.length?Object(O.jsx)("div",{className:"border border-3 p-3 bg-dark rounded",children:i.map((function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"bg-light"}),Object(O.jsx)(E,{date:R()(e.date).format("dddd, MMMM Do YYYY"),address:e.address,type:e.type,permit_id:e.permit_id,admin:e.admin,date_scheduled:R()(e.date_scheduled).format("MM- D-YY")},e.permit_id)]})}))}):Object(O.jsx)("h3",{children:" No Result to Display"})]})]})})]})};c(85);function L(e){var t=e.children;return Object(O.jsx)("table",{className:"table table-border table-striped",children:Object(O.jsx)("tbody",{children:t})})}function T(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:e.index}),Object(O.jsxs)("td",{children:[e.date," | ",e.address," | ",e.type," | ",e.permit_id,"  |  ",e.admin," | ",e.date_scheduled," "]}),Object(O.jsx)("td",{children:"results and notes"}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"btn btn-secondary border border-dark",children:"More Info"}),Object(O.jsx)(i.b,{to:"/inspections/"+e.id})]})]})}c(86);function J(e){return Object(O.jsx)("input",Object(l.a)({className:"SearchInput",type:"text",placeholder:"Search For an Address"},e))}function U(e){return Object(O.jsxs)("button",Object(l.a)(Object(l.a)({},e),{},{className:"SearchBtn btn",children:[e.children,Object(O.jsx)("i",{className:"fa fa-search"})]}))}var q=[],G=[];var W=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],d=r[1];function l(){return(l=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getInspections().then((function(e){n(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),c.forEach((function(e){console.log(e.notes),R()(e.date).isBefore(R()(),"day")?G.push(e):R()(e.date).isSame(R()(),"day")&&q.push(e)})),Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{children:Object(O.jsx)("title",{children:"Past Inspections"})}),Object(O.jsx)(N,{}),Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"Search",children:[Object(O.jsx)(J,{value:i,onChange:function(e){d(e.target.value)}}),Object(O.jsx)(U,{onClick:function(e){e.preventDefault(),console.log(i),u.getAddress(i).then((function(e){return n(e.data)})).catch((function(e){return console.log(e)}))}})]}),Object(O.jsx)("div",{className:"row mt-4",children:Object(O.jsxs)("div",{className:"col-lg-12 col-sm-12",children:[Object(O.jsx)("h2",{className:"text-center",children:"Past Inspections"}),Object(O.jsx)("div",{className:"border border-3 spacers p-3 bg-dark rounded",children:Object(O.jsx)("div",{className:"card",children:q.length?Object(O.jsx)("div",{className:"bg-light",children:q.map((function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:R()(e.date).format("dddd, MMMM Do YYYY")}),Object(O.jsx)(L,{children:Object(O.jsx)(T,{date:R()(e.date).format("dddd, MMMM Do YYYY"),address:e.address,type:e.type,permit_id:e.permit_id,admin:e.admin,date_scheduled:R()(e.date_scheduled).format("MM- D-YY")},e.permit_id)})]})}))}):Object(O.jsx)("h3",{children:" No Result to Display"})})}),Object(O.jsx)("div",{className:"border border-3 spacers p-3 bg-dark rounded",children:Object(O.jsx)("div",{className:"card",children:G.length?Object(O.jsx)("div",{className:"bg-light",children:G.map((function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{children:R()(e.date).format("dddd, MMMM Do YYYY")}),Object(O.jsx)(L,{children:Object(O.jsx)(T,{index:e.findIndex,date:R()(e.date).format("dddd, MMMM Do YYYY"),address:e.address,type:e.type,permit_id:e.permit_id,admin:e.admin,date_scheduled:R()(e.date_scheduled).format("MM- D-YY")},e.permit_id)})]})}))}):Object(O.jsx)("h3",{children:" No Result to Display"})})})]})})]})]})};c(87);var z=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)(d.c,{children:[Object(O.jsxs)(d.a,{exact:!0,path:["/","/login"],children:[Object(O.jsx)(p,{}),Object(O.jsx)(i.b,{to:"/dashboard",children:"Click to go to Dashboard"})]}),Object(O.jsx)(d.a,{exact:!0,path:"/dashboard",children:Object(O.jsx)(H,{})}),Object(O.jsx)(d.a,{exact:!0,path:"/create-account",children:Object(O.jsx)(Y,{})}),Object(O.jsx)(d.a,{exact:!0,path:"/inspections/:id",children:Object(O.jsx)(y,{})}),Object(O.jsx)(d.a,{exact:!0,path:"/past-inspections",children:Object(O.jsx)(W,{})})]})})};c(88);r.a.render(Object(O.jsx)(z,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.421d2a58.chunk.js.map